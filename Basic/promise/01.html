<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>

  <div class="container">
    <h2 class="page-header">Promise</h2>
    <button class="btn btn-primary" id="btn">点击抽奖</button>
  </div>
  <script>
      function rand(m, n) {
          return Math.ceil(Math.random() * (n - m + 1)) + m - 1;
      }

      const btn = document.querySelector('#btn');
      btn.addEventListener('click', function () {
          /*setTimeout(() => {
              let n = rand(1, 100);
              if (n <= 30) {
                  alert('Cong');
              } else {
                  alert('sorry')
              }
          }, 1000)*/

          // promise
          const p = new Promise((resolve, reject) => {
              setTimeout(() => {
                  let n = rand(1, 100);
                  if (n <= 30) {
                      resolve(n);
                  } else {
                      reject(n);
                  }
              }, 1000)
          });

          p.then((value) => {
              console.log('congratulation' + value)
          }, (value) => {
              console.log('sorry' + value)
          })


      });
  </script>

</body>
</html>