<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
  <div>
    <h2>Promise Ajax</h2>
    <button id="btn">send ajax</button>
  </div>
  <script>

      const btn = document.querySelector('#btn');
      btn.addEventListener('click', function () {
          const p = new Promise((resolve, reject) => {
              const xhr = new XMLHttpRequest();
              xhr.open('GET', 'http://127.0.0.1:5000/');
              xhr.send();
              xhr.onreadystatechange = function () {
                  if (xhr.readyState === 4) {
                      if (xhr.status >= 200 && xhr.status < 300) {
                          resolve(xhr.response);
                      } else {
                          reject(xhr.status);
                      }
                  }
              }
          })
          p.then((value => {
              console.log(value);
          }), reason => {
              console.log(reason);
          });
      })

  </script>

</body>
</html>